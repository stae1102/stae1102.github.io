---
layout: post
title: "17 Mar TIL: 노드 서비스 테스트"
excerpt: "Nodejs service test"
date: 2022-03-17 09:44:00 +0900
categories:
  - Study
tags:
  - TIL
---

# 테스트 커버리지

```
PASS  routes/middlewares.test.js
-----------------|---------|----------|---------|---------|-------------------
File             | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-----------------|---------|----------|---------|---------|-------------------
All files        |     100 |     87.5 |     100 |     100 | 
 controllers     |     100 |      100 |     100 |     100 | 
  user.js        |     100 |      100 |     100 |     100 | 
 models          |     100 |       50 |     100 |     100 | 
  hashtag.js     |     100 |      100 |     100 |     100 | 
  index.js       |     100 |       50 |     100 |     100 | 2
  post.js        |     100 |      100 |     100 |     100 | 
  user.js        |     100 |      100 |     100 |     100 | 
 routes          |     100 |      100 |     100 |     100 | 
  middlewares.js |     100 |      100 |     100 |     100 | 
-----------------|---------|----------|---------|---------|-------------------
```

유닛 테스트를 작성하다보면 전체 코드 중에서 어떤 부분이 테스트되고 어떤 부분이 테스트되지 않는지 명확하지 않다.

이때, 테스트되고 있는 코드의 비율과 그렇지 않은 코드의 위치를 알려주는 jest의 커버리지 기능이 있다.

각각 파일과 폴더 이름, % Stmts(구문 비율), % Branch(ifa문 등의 분기점 비율), % Funcs(함수 비율), % Lines(코드 줄 수 비율), Uncovered Line #s(커버되지 않은 줄 위치)이다. 퍼센테이지가 높을수록 많은 코드가 테스트되었다는 뜻이다. 명시적으로 테스트하고 require한 코드만 커버리지 분석이 된다.